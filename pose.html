<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>OpenPose Editor — Joint Only (+Hands)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/app.css" />
  <script type="module" src="js/app.js" defer></script>
</head>
<body>
  <div id="layout">
    <!-- Top bar -->
    <div id="topbar">
      <input id="file" type="file" accept="image/*" />
	<div class="dropdown" data-menu="landscape">
	  <button class="dd-btn">Landscape ▾</button>
	  <div class="dd-menu"></div>
	</div>

	<div class="dropdown" data-menu="portrait">
	  <button class="dd-btn">Portrait ▾</button>
	  <div class="dd-menu"></div>
	</div>

	<div class="dropdown" data-menu="square">
	  <button class="dd-btn">Square ▾</button>
	  <div class="dd-menu"></div>
	</div>
	
	<button id="clearstage">Reset Canvas</button>
	<button id="exportPng">Export Pose as .png</button>
	<button id="exportJson">Export Pose as .Json</button>
      
	<span class="grow"></span> <!-- pushes menus to the right -->

	  <button id="reset">Remove all bones</button>
	  <button id="clearSelected">Clear Selected Bone</button>
      <button id="toggleSkeleton">Show/Hide bones</button>
	  <button id="markMissing">Toggle Missing Bones</button>

  </div>

    <!-- Left panel: collapsible lists -->
    <aside id="left">
      <div id="panel">
        <details id="groupBody" class="group">
          <summary>Joints (BODY_25)</summary>
          <div id="jointList" class="btnlist" style="display:grid; grid-template-columns: 1fr; gap:6px;"></div>
        </details>

        <details id="groupLHand" class="group">
          <summary>Left Hand (21)</summary>
          <div id="lhandList" class="btnlist" style="display:grid; grid-template-columns: 1fr; gap:6px;"></div>
        </details>

        <details id="groupRHand" class="group">
          <summary>Right Hand (21)</summary>
          <div id="rhandList" class="btnlist" style="display:grid; grid-template-columns: 1fr; gap:6px;"></div>
        </details>
      </div>
    </aside>

	<!-- Stage -->
	<div id="stageWrap">
	  <div id="stageInner">
		<img id="img" alt="" />
		<canvas id="canvas"></canvas>
		<div id="overlay"></div>
	  </div>
	</div>

    <!-- Right panel: Depth (z-order) -->
    <aside id="right">
      <div id="depthPanel">
        <h3>Depth (z-order)</h3>
        <div class="depthGrid">
          <label>Right Arm
            <select id="depth-rarm">
              <option value="0">Back</option>
              <option value="1" selected>Mid</option>
              <option value="2">Front</option>
            </select>
          </label>
          <label>Left Arm
            <select id="depth-larm">
              <option value="0">Back</option>
              <option value="1" selected>Mid</option>
              <option value="2">Front</option>
            </select>
          </label>
          <label>Right Leg
            <select id="depth-rleg">
              <option value="0">Back</option>
              <option value="1" selected>Mid</option>
              <option value="2">Front</option>
            </select>
          </label>
          <label>Left Leg
            <select id="depth-lleg">
              <option value="0">Back</option>
              <option value="1" selected>Mid</option>
              <option value="2">Front</option>
            </select>
          </label>
          <label>Torso
            <select id="depth-torso">
              <option value="0">Back</option>
              <option value="1" selected>Mid</option>
              <option value="2">Front</option>
            </select>
          </label>
          <label>Head
            <select id="depth-head">
              <option value="0">Back</option>
              <option value="1" selected>Mid</option>
              <option value="2">Front</option>
            </select>
          </label>
          <label>Left Hand
            <select id="depth-lhand">
              <option value="0">Back</option>
              <option value="1" selected>Mid</option>
              <option value="2">Front</option>
            </select>
          </label>
          <label>Right Hand
            <select id="depth-rhand">
              <option value="0">Back</option>
              <option value="1" selected>Mid</option>
              <option value="2">Front</option>
            </select>
          </label>

          <label class="row" style="grid-column:1 / -1; margin-top:6px;">
            <input id="dimBack" type="checkbox" checked />
            <span>dim back layers</span>
          </label>
        </div>
	
    <!-- NEW: View / Export controls moved from the topbar -->
    <div id="viewPanel" class="sideCard">
      <h3>View Options</h3>

       <label class="row">
        <input id="colorJoints" type="checkbox" />
        color joints
      </label>

      <label class="row">
        <input id="showCursorLabel" type="checkbox" />
        cursor labels
      </label>

      <label class="row">
        Bone Thickness
        <input id="boneWidth" type="number" value="6" min="1" max="20" style="width:70px" />
      </label>

      <label class="row">
        Joint Thickness
        <input id="jointSize" type="number" value="3" min="1" max="10" style="width:70px" />
      </label>
    </div>
  </div>
</aside>

    <!-- Status -->
    <div id="status">Load an image, pick a joint, then click/drag to place.</div>
  </div>

  <div id="floatLabel"></div>
</body>
</html>
