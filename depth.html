<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SoftSin Depth Mapping — SoftSin Studios</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="An in-browser OpenPose editor by SoftSin Studios. Create, import, and refine poses fast for art workflows." />
  <meta name="keywords" content="OpenPose editor, pose editor, browser pose tool, Stable Diffusion pose, AI art pipeline, SoftSin Studios" />
  <meta name="author" content="SoftSin Studios" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="theme-color" content="#1a1b1e" />

  <!-- Canonical -->
  <link rel="canonical" href="{{SITE_URL}}/pose.html" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="{{SITE_URL}}/pose.html" />
  <meta property="og:title" content="OpenPose Editor — SoftSin Studios" />
  <meta property="og:description" content="In-browser OpenPose editing for fast, precise posing." />
  <meta property="og:image" content="{{SITE_URL}}/images/pose-og.webp" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="OpenPose Editor — SoftSin Studios" />
  <meta name="twitter:description" content="In-browser OpenPose editing for fast, precise posing." />
  <meta name="twitter:image" content="{{SITE_URL}}/images/pose-og.webp" />

  <!-- Perf -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preload" as="image" href="/images/pose-og.webp" />
  <link rel="stylesheet" href="css/depth.css" />

  <!-- Warm the module graph -->
  <link rel="modulepreload" href="/js/app.js" />
  <link rel="modulepreload" href="/js/core/constants.js" />
  <link rel="modulepreload" href="/js/core/utils.js" />
  <link rel="modulepreload" href="/js/core/state.js" />
  <link rel="modulepreload" href="/js/core/templates.js" />
  <link rel="modulepreload" href="/js/core/draw.js" />
  <link rel="modulepreload" href="/js/core/dom.js" />
  <link rel="modulepreload" href="/js/core/exporters.js" />

  <!-- Load the app (ESM). It will import everything from /js/core -->
  <script type="module" src="/js/app.js"></script>

  <!-- SoftwareApplication JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "SoftSin OpenPose Editor",
    "operatingSystem": "Web",
    "applicationCategory": "GraphicsApplication",
    "offers": { "@type": "Offer", "price": "0" },
    "url": "{{SITE_URL}}/pose.html",
    "image": "{{SITE_URL}}/images/pose-og.webp",
    "publisher": {
      "@type": "Organization",
      "name": "SoftSin Studios",
      "url": "{{SITE_URL}}/"
    }
  }
  </script>

  <!-- Optional analytics (commented) -->
  <!-- <script defer data-domain="YOUR_DOMAIN" src="https://plausible.io/js/script.js"></script> -->
  <!-- <script defer src="https://cdn.usefathom.com/script.js" data-site="YOUR_ID"></script> -->
</head>

<body>
  <div id="layout">
    <!-- Top bar -->
    <div id="topbar">
      <input id="file" type="file" accept="image/*" />
<!--	<div class="dropdown" data-menu="landscape">
	  <button class="dd-btn">Landscape ▾</button>
	  <div class="dd-menu"></div>
	</div>

	<div class="dropdown" data-menu="portrait">
	  <button class="dd-btn">Portrait ▾</button>
	  <div class="dd-menu"></div>
	</div>

	<div class="dropdown" data-menu="square">
	  <button class="dd-btn">Square ▾</button>
	  <div class="dd-menu"></div>
	</div> -->
	
	<button id="clearstage">Reset Canvas</button>
	<button id="btnExportDepth">Export depthmap as .png</button>
	<!--<button id="exportJson">Export Pose as .Json</button> -->
      
	<span class="grow"></span> <!-- pushes menus to the right -->

<!--	  <button id="reset">Remove all bones</button>
	  <button id="clearSelected">Clear Selected Bone</button>
      <button id="toggleSkeleton">Show/Hide bones</button>
	  <button id="markMissing">Toggle Missing Bones</button> -->

  </div>

    <!-- Left panel: collapsible lists -->
    <aside id="left">
	  <div class="panel">
		<h3 style="text-align: center;">Depth Map controls</h3>

		<label class="row">
		  <button id="clearstage" type="button">Reset controls</button>
		</label>

		<label class="row" for="invertDepth">
		  Invert (white = near)
		  <input id="invertDepth" type="checkbox">
		</label>

		<label for="depthBias">
		  Bias
		  <small class="hint">Shifts the midpoint of depth—lower pushes everything farther, higher pulls it closer.</small>
		</label>
		<div class="range">
		  <input id="depthBias" type="range" min="0" max="1" step="0.01" value="0.5">
		  <div class="bubble" aria-hidden="true"></div>
		</div>

		<label for="contrast">
		  Contrast
		  <small class="hint">Controls depth separation. Higher exaggerates near/far.</small>
		</label>
		<div class="range">
		  <input id="contrast" type="range" min="0" max="2" step="0.01" value="1.0">
		  <div class="bubble" aria-hidden="true"></div>
		</div>

		<label for="edgeAmt">
		  Edges
		  <small class="hint">Accentuates outlines in the depth pass.</small>
		</label>
		<div class="range">
		  <input id="edgeAmt" type="range" min="0" max="2" step="0.01" value="0.4">
		  <div class="bubble" aria-hidden="true"></div>
		</div>

		<label for="smooth">
		  Smooth
		  <small class="hint">Blurs to even out noise; larger = softer.</small>
		</label>
		<div class="range">
		  <input id="smooth" type="range" min="0" max="6" step="1" value="1">
		  <div class="bubble" aria-hidden="true"></div>
		</div>
	  </div>
	</aside>

	<!-- Stage -->
	<div id="stageWrap">
	  <div id="stageInner">
		<img id="img" alt="" />
		<canvas id="canvas"></canvas>
		<div id="overlay"></div>
	  </div>
	</div>

    <!-- Right panel: Depth (z-order) -->
    <aside id="right">
      <div id="depthPanel">
        <!-- NEW: View / Export controls moved from the topbar -->
    <div id="viewPanel" class="sideCard">
	  <label class="row">
	  Show Some Love
		<a href="https://www.buymeacoffee.com/softsinstudios" title="Support development and buy me a beer" target="_blank" rel="noopener"><img src="/images/donate.png" alt="Buy me a Beer" style="cursor:pointer;"/></a>
	  </label>
    </div>
</aside>

    <!-- Status -->
    <div id="status1">Load a depth map, adjust the Bias, Contrast, Edges and Smooth.</div>
  </div>

  <div id="floatLabel"></div>
  
  <footer>
    <div>© 2025 SoftSin Studios — All Rights Reserved</div>
    <div class="links" aria-label="Footer links">
	  <a href="/pose.html">Pose Editor</a> |
      <a href="https://patreon.com/softsinstudios">Patreon</a> |
      <a href="https://deviantart.com/softsinstudios">DeviantArt</a> |
	  <a href="https://www.softsinstudios.com">Home</a> |
	  <a href="/pricing.html">Pricing</a> |
	  <a href="/returns.html">Returns</a> |
	  <a href="/tos.html">Terms of Service</a> |
	  <a href="/privacypolicy.html">Privacy Policy</a>
    </div>
  </footer>
</body>
</html>
